<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>QXQZX&#39;s blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://letcoder.cn/"/>
  <updated>2019-08-15T13:48:07.978Z</updated>
  <id>https://letcoder.cn/</id>
  
  <author>
    <name>QXQZX</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mybatis查询parameterType多参数问题</title>
    <link href="https://letcoder.cn/2019/08/15/Mybatis%E6%9F%A5%E8%AF%A2parameterType%E5%A4%9A%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/"/>
    <id>https://letcoder.cn/2019/08/15/Mybatis查询parameterType多参数问题/</id>
    <published>2019-08-15T13:32:45.000Z</published>
    <updated>2019-08-15T13:48:07.978Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Aug 15 2019 21:48:20 GMT+0800 (中国标准时间) --><h2 id="Mybatis查询parameterType多参数问题"><a href="#Mybatis查询parameterType多参数问题" class="headerlink" title="Mybatis查询parameterType多参数问题"></a>Mybatis查询parameterType多参数问题</h2><h3 id="一、单个参数："><a href="#一、单个参数：" class="headerlink" title="一、单个参数："></a>一、单个参数：</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">List&lt;EntInfo&gt; <span class="title">findByUsername</span><span class="params">(String username)</span></span>;</span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"findByUsername"</span> resultMap=<span class="string">"EntInfoResultMap"</span> parameterType=<span class="string">"java.lang.String"</span> &gt;</span><br><span class="line">.......</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><p>其中方法名和ID一致，#{} 中的参数名与方法中的参数名一致， 这里采用的是@Param这个参数，实际上@Param这个最后会被Mabatis封装为map类型的。</p><p>select 后的字段列表要和bean中的属性名一致， 如果不一致的可以用 as 来补充。</p><h3 id="二、多参数："><a href="#二、多参数：" class="headerlink" title="二、多参数："></a>二、多参数：</h3><p>方案1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;XXX&gt; <span class="title">getXXX</span><span class="params">(String xxId, String xxCode)</span></span>;  </span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"getXXX"</span> resultType=<span class="string">"XXX"</span>&gt; <span class="comment">// 不需要写parameterType参数</span></span><br><span class="line"></span><br><span class="line">　　select t.* from tableName where id = #&#123;0&#125; and name = #&#123;1&#125;  </span><br><span class="line"></span><br><span class="line">&lt;/select&gt;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 由于是多参数那么就不能使用parameterType， 改用#｛index｝是第几个就用第几个的索引，索引从0开始</span></span><br></pre></td></tr></table></figure><p>方案2（推荐）基于注解</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;XXXBean&gt; <span class="title">getXXXBeanList</span><span class="params">(@Param(<span class="string">"id"</span>)</span>String id, @<span class="title">Param</span><span class="params">(<span class="string">"code"</span>)</span>String code)</span>;  </span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"getXXXBeanList"</span> resultType=<span class="string">"XXBean"</span>&gt;</span><br><span class="line"></span><br><span class="line">　　select t.* from tableName where id = #&#123;id&#125; and name = #&#123;code&#125;  </span><br><span class="line"></span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><p>由于是多参数那么就不能使用parameterType， 这里用@Param来指定哪一个。</p><h3 id="三、map封装多参数："><a href="#三、map封装多参数：" class="headerlink" title="三、map封装多参数："></a>三、map封装多参数：</h3><p>通过传入map对象查询 并返回user对象的list集合</p><p>直接通过map里面的key直接访问 #{key}</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findUsersByMap</span><span class="params">(Map&lt;String, Object&gt; map)</span></span>;</span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="number">3</span>. 通过传入map对象查询 并返回user对象的list集合  map里面的属性直接访问 --&gt;</span><br><span class="line">&lt;select id=<span class="string">"findUsersByMap"</span> parameterType=<span class="string">"hashmap"</span> resultType=<span class="string">"user"</span>&gt;</span><br><span class="line">    select * from users where sex=#&#123;sex&#125; and username =#&#123;name&#125;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><h3 id="四、List封装多个参数："><a href="#四、List封装多个参数：" class="headerlink" title="四、List封装多个参数："></a>四、List封装多个参数：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;XXX&gt; <span class="title">getXXX</span><span class="params">(List&lt;String&gt; list)</span></span>;  </span><br><span class="line"></span><br><span class="line">&lt;select id=<span class="string">"getXXXBeanList"</span> resultType=<span class="string">"XXBean"</span>&gt;</span><br><span class="line">　　select 字段... from XXX where id in</span><br><span class="line">　　&lt;foreach item=<span class="string">"item"</span> index=<span class="string">"index"</span> collection=<span class="string">"list"</span> open=<span class="string">"("</span> separator=<span class="string">","</span> close=<span class="string">")"</span>&gt;  </span><br><span class="line">　　　　#&#123;item&#125;  </span><br><span class="line">　　&lt;/foreach&gt;  </span><br><span class="line">&lt;/select&gt;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// foreach 最后的效果是select 字段... from XXX where id in ('1','2','3','4')</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Aug 15 2019 21:48:20 GMT+0800 (中国标准时间) --&gt;&lt;h2 id=&quot;Mybatis查询parameterType多参数问题&quot;&gt;&lt;a href=&quot;#Mybatis查询parameterType多参数问题&quot; cl
      
    
    </summary>
    
      <category term="Java后端" scheme="https://letcoder.cn/categories/Java%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="Java" scheme="https://letcoder.cn/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>HTML5+app实现文件上传(java后端)</title>
    <link href="https://letcoder.cn/2019/08/13/HTML5-app%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0-java%E5%90%8E%E7%AB%AF/"/>
    <id>https://letcoder.cn/2019/08/13/HTML5-app实现文件上传-java后端/</id>
    <published>2019-08-13T12:18:59.000Z</published>
    <updated>2019-08-15T13:34:33.681Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --><p>以拍照上传，相册选择图片上传为例</p><h3 id="HTML5-Plus-拍照或者相册选择图片上传到服务器"><a href="#HTML5-Plus-拍照或者相册选择图片上传到服务器" class="headerlink" title="HTML5 Plus 拍照或者相册选择图片上传到服务器"></a>HTML5 Plus 拍照或者相册选择图片上传到服务器</h3><p><br></p><p>起因：正在写一个人脸识别打卡签到的webApp，其中需要一个拍摄照片并上传服务器的功能</p><p>通过阅读<a href="http://www.html5plus.org/doc" target="_blank" rel="noopener">h5+官方文档</a> 了解到有相册 、相机、 文件上传等接口</p><h4 id="下面学习这几个api："><a href="#下面学习这几个api：" class="headerlink" title="下面学习这几个api："></a>下面学习这几个api：</h4><p>1、从图库选择图片</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">plus.gallery.pick(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">path</span>) </span>&#123;       <span class="comment">// path为选择图片的路径</span></span><br><span class="line">    <span class="comment">// 下面将图片显示在界面</span></span><br><span class="line">    hui(<span class="string">'#img3 div'</span>).hide();</span><br><span class="line">    hui(<span class="string">'#img3 img'</span>).attr(<span class="string">'src'</span>, path);</span><br><span class="line">    hui(<span class="string">'#img3 img'</span>).show();</span><br><span class="line">    <span class="comment">// 上传文件</span></span><br><span class="line">    imgUpload(path);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    hui.toast(<span class="string">"上传失败"</span>);</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    filter: <span class="string">'image'</span>,</span><br><span class="line">    system: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 选择多张图片</span></span><br><span class="line">plus.gallery.pick(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">paths</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(i <span class="keyword">in</span> paths.files)&#123;</span><br><span class="line">      hui.toast(paths.files[i]);</span><br><span class="line">      <span class="comment">//imgUpload(path);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    hui.toast(<span class="string">'取消了选择'</span>);</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">    filter: <span class="string">'image'</span>,</span><br><span class="line">    multiple: <span class="literal">true</span>,</span><br><span class="line">    maximum: <span class="number">5</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><br></p><p>2、相机获取图片</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">plus.camera.getCamera().captureImage(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 这个path 不能直接使用 是相对的  需要进行路径转换</span></span><br><span class="line">    <span class="keyword">var</span> url = <span class="string">"file://"</span> + plus.io.convertLocalFileSystemURL(path); <span class="comment">// 路径转换</span></span><br><span class="line">    hui(<span class="string">'#img2 div'</span>).hide();</span><br><span class="line">    hui(<span class="string">'#img2 img'</span>).attr(<span class="string">'src'</span>, path);</span><br><span class="line">    hui(<span class="string">'#img2 img'</span>).show();</span><br><span class="line">    imgUpload(path);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    hui.toast(<span class="string">"上传失败"</span>);</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    index: <span class="number">2</span> <span class="comment">// 拍照时默认的摄像头 1后置 2 前置</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><br></p><p>3、uploader文件上传</p><p>原理应该就是通过http 的post请求上传文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 图片上传（java后端测试成功）</span></span><br><span class="line"><span class="comment"> * @param &#123;Object&#125; path</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">imgUpload</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">  plus.nativeUI.showWaiting();</span><br><span class="line">  <span class="keyword">var</span> task = plus.uploader.createUpload(</span><br><span class="line">    <span class="string">'http://192.168.1.142:8080/img/upload.do'</span>, &#123;</span><br><span class="line">      method: <span class="string">"POST"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">resp, status</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (status == <span class="number">200</span>) &#123;</span><br><span class="line">        plus.nativeUI.closeWaiting();</span><br><span class="line">        <span class="built_in">console</span>.log(resp.responseText);</span><br><span class="line">        mui.toast(<span class="string">'上传成功'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        mui.toast(<span class="string">'上传失败'</span>);</span><br><span class="line">        plus.nativeUI.closeWaiting();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  task.addFile(path, &#123;<span class="attr">key</span>: <span class="string">'file'</span>&#125;); <span class="comment">// 这里必须和 java后端的 @RequestParam(value = "file") 对应</span></span><br><span class="line">  task.addData(<span class="string">"name"</span>, <span class="string">"test"</span>);</span><br><span class="line">  task.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代码就是上述所写，server为上传的服务端接口地址，如果上传成功，则回调的status会返回200，不成功或者接口参数有问题会返回400或者500。</p><p>resp.responseText 服务端返回的结果，一般服务端会返回json，解析一下json就可以使用了。</p><p><br></p><p>传输其他文件时如果还想添加其他参数，用.addData(key,value),</p><p>添加图片用.addFile(图片路径，{key:后端接收文件的名字})， <strong>这个key必须和后端接收名字对应</strong></p><p>配合后端代码看会好理解，后端我用java接收的：</p><p><br></p><p>4、Java后端接收并保存</p><p>用标准的MultipartFile接收即可。注意xml限制的大小设定</p><p>springMVC.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置文件上传--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"multipartResolver"</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--单位字节--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxUploadSize"</span> <span class="attr">value</span>=<span class="string">"20480000"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/upload"</span>, produces = <span class="string">"text/html;charset=utf-8"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">uploadImg</span><span class="params">(@RequestParam(value = <span class="string">"file"</span>)</span> MultipartFile file, HttpServletRequest request) </span>&#123;</span><br><span class="line">  Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    String oriFilename = file.getOriginalFilename();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取文件后缀</span></span><br><span class="line">    String fileType = oriFilename.substring(oriFilename.lastIndexOf(<span class="string">"."</span>) + <span class="number">1</span>, oriFilename.length()).toLowerCase();</span><br><span class="line">    <span class="comment">// 存储路径</span></span><br><span class="line">    String basePath = <span class="string">"/Users/qxqzx/Desktop/img/"</span>;</span><br><span class="line">    <span class="comment">// 保存的文件名字</span></span><br><span class="line">    String saveName = String.valueOf(<span class="keyword">new</span> Date().getTime()) + <span class="string">"."</span> + fileType;</span><br><span class="line">    File dst = <span class="keyword">new</span> File(basePath, saveName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!dst.getParentFile().exists()) &#123;</span><br><span class="line">      dst.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">    file.transferTo(dst); <span class="comment">// 写入本地</span></span><br><span class="line"></span><br><span class="line">    map.put(<span class="string">"success"</span>, <span class="keyword">true</span>);</span><br><span class="line">    map.put(<span class="string">"code"</span>, <span class="string">"200"</span>);</span><br><span class="line">    map.put(<span class="string">"msg"</span>, <span class="string">"图片上传成功！"</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    map.put(<span class="string">"success"</span>, <span class="keyword">false</span>);</span><br><span class="line">    map.put(<span class="string">"code"</span>, <span class="string">"-200"</span>);</span><br><span class="line">    map.put(<span class="string">"msg"</span>, <span class="string">"图片上传失败！"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> JSON.toJSONString(map);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>暂时总结到这, 等后续补充</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --&gt;&lt;p&gt;以拍照上传，相册选择图片上传为例&lt;/p&gt;&lt;h3 id=&quot;HTML5-Plus-拍照或者相册选择图片上传到服务器&quot;&gt;&lt;a href=&quot;#HTML5-Pl
      
    
    </summary>
    
      <category term="HTML5+APP" scheme="https://letcoder.cn/categories/HTML5-APP/"/>
    
    
      <category term="Web前端" scheme="https://letcoder.cn/tags/Web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="Java" scheme="https://letcoder.cn/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>hexo 报错 Cannot read property &#39;replace&#39; of null</title>
    <link href="https://letcoder.cn/2019/08/12/hexo-%E6%8A%A5%E9%94%99-Cannot-read-property-replace-of-null/"/>
    <id>https://letcoder.cn/2019/08/12/hexo-报错-Cannot-read-property-replace-of-null/</id>
    <published>2019-08-12T11:41:24.000Z</published>
    <updated>2019-08-12T11:45:05.625Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --><p>hexo配置文件进行相应的修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/qxqzx/qxqzx.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>执行命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure><p>就报错了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FATAL Cannot read property &apos;replace&apos; of null</span><br></pre></td></tr></table></figure><p>解决：</p><blockquote><p>看帖子都是说 _config.yml 配置文件中的url 设置错误</p></blockquote><p>我的设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; url: </span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure><p>看了下url果然有错，加上url后好了</p><p>执行 hexo g -d 成功。</p><h5 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h5><p><a href="https://link.jianshu.com?t=https://github.com/hexojs/hexo/issues/2006" target="_blank" rel="noopener">hexo issues #2006</a><br><a href="https://link.jianshu.com?t=https://github.com/hexojs/hexo/issues/2141" target="_blank" rel="noopener">hexo issues #2141</a><br><a href="https://link.jianshu.com?t=http://www.cd2want.cc/2016/06/03/2016-06-03-从jekyll搬到Hexo/" target="_blank" rel="noopener">cd2want</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --&gt;&lt;p&gt;hexo配置文件进行相应的修改&lt;/p&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
      
    
    </summary>
    
      <category term="Hexo" scheme="https://letcoder.cn/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="https://letcoder.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>新启程，一个新的开始</title>
    <link href="https://letcoder.cn/2019/08/12/%E6%96%B0%E5%90%AF%E7%A8%8B%EF%BC%8C%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
    <id>https://letcoder.cn/2019/08/12/新启程，一个新的开始/</id>
    <published>2019-08-12T11:36:24.000Z</published>
    <updated>2019-08-12T11:40:46.281Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --><h2 id="这是一个全新开始"><a href="#这是一个全新开始" class="headerlink" title="这是一个全新开始"></a>这是一个全新开始</h2><p>建立这个新的站点，来记录一些东西。</p><p>以前的站点 用的是typecho已经鸽了一个月，没更新内容。不在打算更新。</p><p>今天开始 转为 Hexo站点，原因是 这个主题太好看了</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --&gt;&lt;h2 id=&quot;这是一个全新开始&quot;&gt;&lt;a href=&quot;#这是一个全新开始&quot; class=&quot;headerlink&quot; title=&quot;这是一个全新开始&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
      <category term="杂谈" scheme="https://letcoder.cn/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="杂谈" scheme="https://letcoder.cn/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>Hexo新开始</title>
    <link href="https://letcoder.cn/2019/08/12/Hexo%E6%96%B0%E5%BC%80%E5%A7%8B/"/>
    <id>https://letcoder.cn/2019/08/12/Hexo新开始/</id>
    <published>2019-08-12T10:50:11.503Z</published>
    <updated>2019-08-12T11:37:27.680Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Aug 15 2019 21:46:12 GMT+0800 (中国标准时间) --&gt;&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/
      
    
    </summary>
    
      <category term="Hexo" scheme="https://letcoder.cn/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="https://letcoder.cn/tags/Hexo/"/>
    
  </entry>
  
</feed>
